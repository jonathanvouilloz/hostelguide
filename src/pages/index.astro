---
import BaseLayout from '../layouts/BaseLayout.astro';
import WiFiCard from '../components/WiFiCard.astro';
import CategoryCard from '../components/CategoryCard.astro';
import { getSettings } from '../lib/content';

const settings = await getSettings();
---

<BaseLayout title="Home">
  <div class="p-4 max-w-md mx-auto pb-safe">
    <!-- WiFi Card -->
    <WiFiCard name={settings.wifi.name} password={settings.wifi.password} />

    <!-- Category Grid (2x2) -->
    <nav class="grid grid-cols-2 gap-3 mt-4" aria-label="Categories">
      <CategoryCard emoji="ðŸœ" label="Food" href="/restaurants" />
      <CategoryCard emoji="ðŸ‘•" label="Laundry" href="/laundry" />
      <CategoryCard emoji="ðŸ›µ" label="Transport" href="/transport" />
      <CategoryCard emoji="ðŸ»" label="Bars" href="/bars" />
    </nav>

    <!-- Full-width cards -->
    <div class="space-y-3 mt-4">
      <CategoryCard emoji="ðŸ“…" label="This Week" href="/events" fullWidth />
      <CategoryCard emoji="ðŸ“‹" label="Info & Rules" href="/info" fullWidth />
    </div>

    <!-- Check-in/out footer -->
    <footer class="mt-6 text-center text-sm text-muted">
      <p>
        Check-in <span class="font-medium text-primary">{settings.checkIn}</span>
        &nbsp;Â·&nbsp;
        Check-out <span class="font-medium text-primary">{settings.checkOut}</span>
      </p>
    </footer>
  </div>
</BaseLayout>
